(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{12:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(2),c=a.n(n),r=a(7),s=a(22),o=a(151),i=a(9),l=function(){var e=Object(r.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object(o.a)(t).exp>=Date.now()/1e3)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Object(i.b)("refresh_token");case 5:return n=e.sent,a({type:s.a,payload:n.data}),e.abrupt("return",n.data.access_token);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},127:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(1),r=a(10),s=a(4),o=a(17),i=a(28),l=a(73),u=a(43),d=a(0);t.default=function(){var e=Object(s.c)((function(e){return e})),t=e.category,a=e.blogCategory,b=Object(s.b)(),j=Object(r.h)().slug,p=Object(r.f)(),f=p.location.search,m=Object(c.useState)(""),O=Object(n.a)(m,2),h=O[0],x=O[1],v=Object(c.useState)([]),g=Object(n.a)(v,2),y=g[0],w=g[1],_=Object(c.useState)(0),N=Object(n.a)(_,2),k=N[0],C=N[1];Object(c.useEffect)((function(){var e=t.find((function(e){return e.name===j}));e&&x(e._id)}),[t,j]),Object(c.useEffect)((function(){if(h)if(a.every((function(e){return e.id!==h})))b(Object(o.c)(h,f));else{var e=a.find((function(e){return e.id===h}));if(!e)return;w(e.blogs),C(e.total),e.search&&p.push(e.search)}}),[h,a,b,f]);return y?Object(d.jsxs)("div",{className:"blogs_category",children:[Object(d.jsx)("div",{className:"show_blogs",children:y&&y.length>0&&y.map((function(e){return Object(d.jsx)(l.a,{blog:e},e._id)}))}),k>1&&Object(d.jsx)(u.a,{total:k,callback:function(e){var t="?page=".concat(e);b(Object(o.c)(h,t))}})]}):Object(d.jsx)(i.a,{})}},128:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(6),r=a(1),s=a(4),o=a(28),i=a(46),l=a(0);t.default=function(){var e,t=Object(r.useState)(""),a=Object(c.a)(t,2),u=a[0],d=a[1],b=Object(s.c)((function(e){return e})),j=b.auth,p=b.category,f=Object(r.useState)(null),m=Object(c.a)(f,2),O=m[0],h=m[1],x=Object(s.b)();Object(r.useEffect)((function(){O&&d(O.name)}),[O]);return"admin"!==(null===(e=j.user)||void 0===e?void 0:e.role)?Object(l.jsx)(o.a,{}):Object(l.jsxs)("div",{className:"category",children:[Object(l.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),j.access_token&&u){if(O){if(O.name===u)return;var t=Object(n.a)(Object(n.a)({},O),{},{name:u});x(Object(i.d)(t,j.access_token))}else x(Object(i.a)(u,j.access_token));d(""),h(null)}},children:[Object(l.jsx)("label",{htmlFor:"category",children:"Category"}),Object(l.jsxs)("div",{className:"d-flex align-items-center",children:[O&&Object(l.jsx)("i",{className:"fas fa-times mx-2",style:{cursor:"pointer"},onClick:function(){h(null),d("")}}),Object(l.jsx)("input",{type:"text",name:"category",id:"category",value:u,onChange:function(e){return d(e.target.value)}}),Object(l.jsx)("button",{type:"submit",children:O?"Update":"Create"})]})]}),Object(l.jsx)("div",{children:p&&p.length>0&&p.map((function(e){return Object(l.jsxs)("div",{className:"category_row",children:[Object(l.jsx)("p",{className:"m-0 text-capitalize",children:e.name}),Object(l.jsxs)("div",{children:[Object(l.jsx)("i",{className:"fas fa-edit mx-2",onClick:function(){return h(e)}}),Object(l.jsx)("i",{className:"fas fa-trash-alt",onClick:function(){return t=e._id,void(j.access_token&&window.confirm("Are you sure want to delete this category?")&&x(Object(i.b)(t,j.access_token)));var t}})]})]},e._id)}))})]})}},129:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(1),r=a(4),s=a(14),o=a(0);t.default=function(){var e=Object(c.useState)(""),t=Object(n.a)(e,2),a=t[0],i=t[1],l=Object(r.b)();return Object(o.jsxs)("div",{className:"my-2",style:{maxWidth:"500px"},children:[Object(o.jsx)("h2",{children:"Forgot Password?"}),Object(o.jsxs)("form",{className:"form-group",onSubmit:function(e){e.preventDefault(),l(Object(s.b)(a))},children:[Object(o.jsx)("label",{htmlFor:"account",children:"Email / Phone Number"}),Object(o.jsxs)("div",{className:"d-flex align-items-center",children:[Object(o.jsx)("input",{type:"text",className:"form-control",id:"account",name:"account",onChange:function(e){return i(e.target.value)}}),Object(o.jsxs)("button",{className:"btn btn-primary mx-2 d-flex align-items-center",children:[Object(o.jsx)("i",{className:"fas fa-paper-plane mr-3 "}),Object(o.jsx)("span",{children:"Send"})]})]})]})]})}},13:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return r})),a.d(t,"f",(function(){return s})),a.d(t,"g",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return l}));var n="CREATE_COMMENT",c="GET_COMMENTS",r="REPLY_COMMENT",s="UPDATE_COMMENT",o="UPDATE_REPLY",i="DELETE_COMMENT",l="DELETE_REPLY"},130:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(1),r=a(10),s=a(4),o=a(37),i=a(0);t.default=function(){var e=Object(r.h)().slug,t=Object(s.b)(),a=Object(c.useState)(""),l=Object(n.a)(a,2),u=l[0],d=l[1],b=Object(c.useState)(""),j=Object(n.a)(b,2),p=j[0],f=j[1],m=Object(c.useState)(!1),O=Object(n.a)(m,2),h=O[0],x=O[1],v=Object(c.useState)(!1),g=Object(n.a)(v,2),y=g[0],w=g[1],_=function(e){var t=e.target,a=t.value,n=t.name;"password"===n?d(a):"cf_password"===n&&f(a)};return Object(i.jsx)("div",{className:"auth_page",children:Object(i.jsxs)("form",{action:"",className:"auth_box",onSubmit:function(a){a.preventDefault(),t(Object(o.b)(u,p,e))},children:[Object(i.jsx)("h3",{className:"text-center text-uppercase",style:{letterSpacing:2},children:"Reset Password"}),Object(i.jsxs)("div",{className:"form-group mb-3",children:[Object(i.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"}),Object(i.jsxs)("div",{className:"pass",children:[Object(i.jsx)("input",{type:h?"text":"password",className:"form-control",name:"password",id:"password",value:u,onChange:_}),Object(i.jsx)("small",{onClick:function(){return x(!h)},children:h?"hide":"show"})]})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{className:"form-label",htmlFor:"cf_password",children:"Confirm password"}),Object(i.jsxs)("div",{className:"pass",children:[Object(i.jsx)("input",{type:y?"text":"password",className:"form-control",name:"cf_password",id:"cf_password",value:p,onChange:_}),Object(i.jsx)("small",{onClick:function(){return w(!y)},children:y?"hide":"show"})]})]}),Object(i.jsx)("button",{type:"submit",className:"btn btn-dark w-100 mt-4",children:"Save Changes"})]})})}},131:function(e,t,a){"use strict";a.r(t);a(1);var n=a(10),c=a(72),r=a(0);t.default=function(){var e=Object(n.h)().slug;return Object(r.jsx)(c.default,{id:e})}},14:function(e,t,a){"use strict";a.d(t,"d",(function(){return d})),a.d(t,"h",(function(){return b})),a.d(t,"g",(function(){return j})),a.d(t,"f",(function(){return p})),a.d(t,"c",(function(){return f})),a.d(t,"a",(function(){return m})),a.d(t,"e",(function(){return O})),a.d(t,"b",(function(){return x}));var n=a(2),c=a.n(n),r=a(7),s=a(9),o=a(22),i=a(3),l=a(36),u=a(12),d=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.a,payload:{loading:!0}}),t.next=4,Object(s.d)("login",e);case 4:n=t.sent,console.log(n),a({type:o.a,payload:{access_token:n.data.access_token,user:n.data.user}}),a({type:i.a,payload:{success:"Login Success!"}}),localStorage.setItem("logged","noze"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:i.a,payload:{errors:t.t0.response.data.msg}});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=Object(l.a)(e)).errLength>0)){t.next=3;break}return t.abrupt("return",a({type:i.a,payload:{errors:n.errMsg}}));case 3:return t.prev=3,a({type:i.a,payload:{loading:!0}}),t.next=7,Object(s.d)("register",e);case 7:r=t.sent,a({type:i.a,payload:{success:r.data.msg}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),a({type:i.a,payload:{errors:t.t0.response.data.msg}});case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}()},j=function(){return function(){var e=Object(r.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("noze"===localStorage.getItem("logged")){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,t({type:i.a,payload:{loading:!0}}),e.next=7,Object(s.b)("refresh_token");case 7:a=e.sent,t({type:o.a,payload:a.data}),t({type:i.a,payload:{}}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),t({type:i.a,payload:{errors:e.t0.response.data.msg}}),localStorage.removeItem("logged");case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.a)(e,a);case 2:return n=t.sent,r=n||e,t.prev=4,a({type:i.a,payload:{loading:!0}}),localStorage.removeItem("logged"),t.next=9,Object(s.b)("logout",r);case 9:window.location.href="/",a({type:i.a,payload:{}}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4),a({type:i.a,payload:{errors:t.t0.response.data.msg}});case 16:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.a,payload:{loading:!0}}),t.next=4,Object(s.d)("google_login",{id_token:e});case 4:n=t.sent,console.log(n),a({type:o.a,payload:n.data}),a({type:i.a,payload:{success:"Login Success!"}}),localStorage.setItem("logged","noze"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:i.a,payload:{errors:t.t0.response.data.msg}});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e,t){return function(){var a=Object(r.a)(c.a.mark((function a(n){var r;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:i.a,payload:{loading:!0}}),a.next=4,Object(s.d)("facebook_login",{accessToken:e,userID:t});case 4:r=a.sent,n({type:o.a,payload:r.data}),n({type:i.a,payload:{success:"Login Success!"}}),localStorage.setItem("logged","noze"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),n({type:i.a,payload:{errors:a.t0.response.data.msg}});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(l.e)(e)){t.next=3;break}return t.abrupt("return",a({type:i.a,payload:{errors:"Phone number format is incorrect"}}));case 3:return t.prev=3,a({type:i.a,payload:{loading:!0}}),t.next=7,Object(s.d)("login_sms",{phone:e});case 7:t.sent.data.valid||h(e,a),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),a({type:i.a,payload:{errors:t.t0.response.data.msg}});case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}()},h=function(){var e=Object(r.a)(c.a.mark((function e(t,a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=prompt("Enter your code")){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,a({type:i.a,payload:{loading:!0}}),e.next=7,Object(s.d)("verify_sms",{phone:t,code:n});case 7:r=e.sent,a({type:o.a,payload:r.data}),a({type:i.a,payload:{success:"Login Success!"}}),localStorage.setItem("logged","noze"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),a({type:i.a,payload:{errors:e.t0.response.data.msg}}),setTimeout((function(){h(t,a)}),500);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,a){return e.apply(this,arguments)}}(),x=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.a,payload:{loading:!0}}),t.next=4,Object(s.d)("forgot_password",{account:e});case 4:n=t.sent,console.log(n),a({type:i.a,payload:{success:n.data.msg}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:i.a,payload:{errors:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},147:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(1),r=a(10),s=a(9),o=a(35),i=a(38),l=a(2),u=a.n(l),d=a(7),b=a(8),j=a(0),p=function(e){var t=e.user;return Object(j.jsxs)("div",{className:"me-1 avatar_comment",children:[Object(j.jsx)("img",{src:t.avatar,alt:"Avatar"}),Object(j.jsx)("small",{className:"text-muted d-block text-break",children:Object(j.jsx)(b.b,{to:"/profile/".concat(t._id),children:t.name})})]})},f=a(5),m=a(4),O=a(76),h=a.n(O),x=(a(126),[[{font:[]}],["bold","italic","underline","strike"],["blockquote","code-block","link"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}]]),v=function(e){var t=e.body,a=e.setBody,n={toolbar:{container:x}};return Object(j.jsx)("div",{children:Object(j.jsx)(h.a,{theme:"snow",modules:n,placeholder:"Write something...",onChange:function(e){return a(e)},value:t})})},g=function(e){var t=e.callback,a=e.edit,r=e.setEdit,s=Object(c.useState)(""),o=Object(n.a)(s,2),i=o[0],l=o[1],u=Object(c.useRef)(null);Object(c.useEffect)((function(){a&&l(a.content)}),[a]);return Object(j.jsxs)("div",{children:[Object(j.jsx)(v,{body:i,setBody:l}),Object(j.jsx)("div",{ref:u,dangerouslySetInnerHTML:{__html:i},style:{display:"none"}}),Object(j.jsx)("button",{className:"btn btn-dark ms-auto d-block px-4 mt-2",onClick:function(){var e=u.current;if(!(null===e||void 0===e?void 0:e.innerText).trim())return r?r(void 0):void 0;t(i),l("")},children:a?"Update":"Send"})]})},y=a(3),w=a(13),_=a(12),N=function(e,t){return function(){var a=Object(d.a)(u.a.mark((function a(n){var c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,4,a.next=4,Object(s.b)("comments/blog/".concat(e,"?limit=").concat(4,"&page=").concat(t));case 4:c=a.sent,n({type:w.d,payload:{data:c.data.comments,total:c.data.total}}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:y.a,payload:{errors:a.t0.message}});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},k=function(e){var t,a,r=e.comment,o=e.children,i=Object(c.useState)(!1),l=Object(n.a)(i,2),b=l[0],p=l[1],O=Object(c.useState)(),h=Object(n.a)(O,2),x=h[0],v=h[1],w=Object(m.c)((function(e){return e})).auth,N=Object(m.b)(),k=function(e){var t,a;w.user&&w.access_token&&N((t=e,a=w.access_token,function(){var e=Object(d.a)(u.a.mark((function e(n){var c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.a)(a,n);case 2:return c=e.sent,r=c||a,e.prev=4,e.next=7,Object(s.a)("comment/".concat(t._id),r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),n({type:y.a,payload:{errors:e.t0.message}});case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}()))},C=function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("i",{className:"fas fa-trash-alt mx-2",onClick:function(){return k(e)}}),Object(j.jsx)("i",{className:"fas fa-edit mx-2",onClick:function(){return v(e)}})]})};return Object(j.jsxs)("div",{className:"w-100",children:[x?Object(j.jsx)(g,{callback:function(e){if(w.user&&w.access_token){if(e===(null===x||void 0===x?void 0:x.content))return v(void 0);var t,a,n=Object(f.a)(Object(f.a)({},x),{},{content:e});N((t=n,a=w.access_token,function(){var e=Object(d.a)(u.a.mark((function e(n){var c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.a)(a,n);case 2:return c=e.sent,r=c||a,e.prev=4,e.next=7,Object(s.c)("comment/".concat(t._id),{data:t},r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),n({type:y.a,payload:{errors:e.t0.message}});case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}())),v(void 0)}},edit:x,setEdit:v}):Object(j.jsxs)("div",{className:"comment_box",children:[Object(j.jsx)("div",{className:"p-2",dangerouslySetInnerHTML:{__html:r.content}}),Object(j.jsxs)("div",{className:"d-flex justify-content-between p-2",children:[Object(j.jsx)("small",{style:{cursor:"pointer",opacity:"0.8",color:"blue"},onClick:function(){return p(!b)},children:b?"- Cancel -":"- Reply -"}),Object(j.jsxs)("small",{className:"d-flex",children:[Object(j.jsx)("div",{className:"comment_nav",children:r.blog_user_id===(null===(t=w.user)||void 0===t?void 0:t._id)?r.user._id===w.user._id?C(r):Object(j.jsx)("i",{className:"fas fa-trash-alt mx-2",onClick:function(){return k(r)}}):r.user._id===(null===(a=w.user)||void 0===a?void 0:a._id)&&C(r)}),Object(j.jsx)("div",{children:new Date(r.createdAt).toLocaleString()})]})]})]}),b&&Object(j.jsx)(g,{callback:function(e){if(!w.user||!w.access_token)return alert("Please, Login to comment."),void p(!1);var t={user:w.user,content:e,blog_id:r.blog_id,blog_user_id:r.blog_user_id,reply_user:r.user,replyCM:[],comment_root:r.comment_root||r._id,createdAt:(new Date).toISOString()};N(function(e,t){return function(){var a=Object(d.a)(u.a.mark((function a(n){var c,r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(_.a)(t,n);case 2:return c=a.sent,r=c||t,a.prev=4,a.next=7,Object(s.d)("reply_comment",e,r);case 7:a.sent,a.next=13;break;case 10:a.prev=10,a.t0=a.catch(4),n({type:y.a,payload:{errors:a.t0.message}});case 13:case"end":return a.stop()}}),a,null,[[4,10]])})));return function(e){return a.apply(this,arguments)}}()}(t,w.access_token)),p(!1)}}),o]})},C=function(e){var t=e.user,a=e.reply_user;return Object(j.jsxs)("div",{className:"avatar_reply",children:[Object(j.jsx)("img",{src:t.avatar,alt:"Avatar"}),Object(j.jsxs)("div",{className:"ms-1",children:[Object(j.jsx)("small",{className:"text-muted d-block text-break",children:Object(j.jsx)(b.b,{to:"/profile/".concat(t._id),children:t.name})}),Object(j.jsxs)("small",{className:"text-muted d-block text-break",children:["Reply to ",Object(j.jsx)(b.b,{to:"/profile/".concat(null===a||void 0===a?void 0:a._id),children:null===a||void 0===a?void 0:a.name})]})]})]})},S=function(e){var t=e.comment,a=Object(c.useState)([]),r=Object(n.a)(a,2),s=r[0],o=r[1],i=Object(c.useState)(2),l=Object(n.a)(i,2),u=l[0],d=l[1];return Object(c.useEffect)((function(){t.replyCM&&o(t.replyCM)}),[t.replyCM]),Object(j.jsxs)("div",{className:"my-3 d-flex",style:{opacity:t._id?1:.5,pointerEvents:t._id?"initial":"none"},children:[Object(j.jsx)(p,{user:t.user}),Object(j.jsxs)(k,{comment:t,children:[s.slice(0,u).map((function(e){return Object(j.jsxs)("div",{style:{opacity:e._id?1:.5,pointerEvents:e._id?"initial":"none"},children:[Object(j.jsx)(C,{user:e.user,reply_user:e.reply_user}),Object(j.jsx)(k,{comment:e})]},e._id)})),Object(j.jsx)("div",{style:{cursor:"pointer"},children:s.length-u>0?Object(j.jsx)("small",{style:{color:"crimson"},onClick:function(){return d(Number(s.length))},children:"See more comments"}):s.length>2&&Object(j.jsx)("small",{style:{color:"teal"},onClick:function(){return d(2)},children:"Hide comments"})})]})]})},E=a(43),T=function(e){var t=e.blog,a=Object(m.c)((function(e){return e})),i=a.auth,l=a.comments,p=Object(m.b)(),f=Object(r.f)(),O=Object(c.useState)([]),h=Object(n.a)(O,2),x=h[0],v=h[1],w=Object(c.useState)(!1),k=Object(n.a)(w,2),C=k[0],T=k[1];Object(c.useEffect)((function(){l&&v(l.data)}),[l.data]);var L=Object(c.useCallback)(function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:1,T(!0),e.next=4,p(N(t,a));case 4:T(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[p]);Object(c.useEffect)((function(){if(t._id){var e=Number(f.location.search.slice(6))||1;L(t._id,e)}}),[t._id]);return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{className:"text-center my-3 text-capitalize",style:{color:"#ff7a00"},children:t.title}),Object(j.jsxs)("div",{className:"text-end my-3",style:{color:"teal"},children:[Object(j.jsx)("small",{children:"string"!==typeof t.user&&"By: ".concat(t.user.name)}),Object(j.jsx)("small",{className:"ms-2",children:new Date(t.createdAt).toLocaleString()})]}),Object(j.jsx)("div",{className:"text-center blog",dangerouslySetInnerHTML:{__html:t.content}}),Object(j.jsx)("hr",{className:"my-1"}),Object(j.jsx)("h3",{style:{color:"#ff7a00"},children:" Comments "}),i.user?Object(j.jsx)(g,{callback:function(e){if(i&&i.user&&i.access_token){var a={content:e,user:i.user,blog_id:t._id,replyCM:[],blog_user_id:t.user._id,createdAt:(new Date).toISOString()};p(function(e,t){return function(){var a=Object(d.a)(u.a.mark((function a(n){var c,r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(_.a)(t,n);case 2:return c=a.sent,r=c||t,a.prev=4,a.next=7,Object(s.d)("comment",e,r);case 7:a.sent,a.next=13;break;case 10:a.prev=10,a.t0=a.catch(4),n({type:y.a,payload:{errors:a.t0.message}});case 13:case"end":return a.stop()}}),a,null,[[4,10]])})));return function(e){return a.apply(this,arguments)}}()}(a,i.access_token))}}}):Object(j.jsxs)("h5",{children:[" Please ",Object(j.jsx)(b.b,{to:"/login?blog/".concat(t._id),children:"login"})," to comment."]}),C?Object(j.jsx)(o.a,{}):x&&x.length>0&&x.map((function(e){return Object(j.jsx)(S,{comment:e},e._id)})),l.total>1&&Object(j.jsx)(E.a,{total:l.total,callback:function(e){t._id&&L(t._id,e)}})]})};t.default=function(){var e=Object(r.h)().slug,t=Object(m.c)((function(e){return e})).socket,a=Object(c.useState)(),l=Object(n.a)(a,2),u=l[0],d=l[1],b=Object(c.useState)(!1),p=Object(n.a)(b,2),f=p[0],O=p[1],h=Object(c.useState)(""),x=Object(n.a)(h,2),v=x[0],g=x[1];return Object(c.useEffect)((function(){if(e)return O(!0),Object(s.b)("/blog/".concat(e)).then((function(e){d(e.data),O(!1)})).catch((function(e){g("Cannot get blog detail"),O(!1)})),function(){d(void 0)}}),[e]),Object(c.useEffect)((function(){if(e&&t)return t.emit("joinRoom",e),function(){t.emit("leaveRoom",e)}}),[t,e]),f?Object(j.jsx)(o.a,{}):Object(j.jsxs)("div",{children:[v&&Object(i.b)(v),u&&Object(j.jsx)(T,{blog:u})]})}},148:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(1),r=a(29),s=a(5),o=a(4),i=a(14),l=a(0),u=function(){var e=Object(o.b)(),t=Object(c.useState)({account:"",password:""}),a=Object(n.a)(t,2),u=a[0],d=a[1],b=u.account,j=u.password,p=Object(c.useState)(!1),f=Object(n.a)(p,2),m=f[0],O=f[1],h=function(e){var t=e.target,a=t.value,n=t.name;d(Object(s.a)(Object(s.a)({},u),{},Object(r.a)({},n,a)))};return Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(Object(i.d)(u))},children:[Object(l.jsxs)("div",{className:"form-group mb-2",children:[Object(l.jsx)("label",{className:"form-label",htmlFor:"account",children:"Email/ Phone number"}),Object(l.jsx)("input",{type:"text",className:"form-control",name:"account",id:"account",value:b,onChange:h})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"}),Object(l.jsxs)("div",{className:"pass",children:[Object(l.jsx)("input",{type:m?"text":"password",className:"form-control",name:"password",id:"password",value:j,onChange:h}),Object(l.jsx)("small",{onClick:function(){return O(!m)},children:m?"hide":"show"})]})]}),Object(l.jsx)("button",{disabled:!b||!j,className:"btn btn-dark w-100 mt-4",type:"submit",children:"Login"})]})},d=function(){var e=Object(c.useState)(""),t=Object(n.a)(e,2),a=t[0],r=t[1],s=Object(o.b)();return Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s(Object(i.e)(a))},children:[Object(l.jsxs)("div",{className:"form-group mb-3",children:[Object(l.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Phone number"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"phone",name:"phone",value:a,onChange:function(e){return r(e.target.value)},placeholder:"+84123456789"})]}),Object(l.jsx)("button",{className:"btn btn-dark w-100",disabled:!a,children:"Login"})]})},b=a(10),j=a(8),p=a(152),f=a(153),m=function(){var e=Object(o.b)();return Object(l.jsxs)("div",{className:"my-2",children:[Object(l.jsx)(p.GoogleLogin,{client_id:"700427633806-ut7c8e5d2377r9q9o1ev5eu3kak37fhs.apps.googleusercontent.com",cookiepolicy:"single_host_origin",onSuccess:function(t){var a=t.getAuthResponse().id_token;e(Object(i.c)(a))}}),Object(l.jsx)(f.FacebookLogin,{appId:"549602096794210",onSuccess:function(t){var a=t.authResponse,n=a.accessToken,c=a.userID;e(Object(i.a)(n,c))}})]})};t.default=function(){var e=Object(c.useState)(!1),t=Object(n.a)(e,2),a=t[0],r=t[1],s=Object(b.f)(),i=Object(o.c)((function(e){return e})).auth;return Object(c.useEffect)((function(){if(i.access_token){var e=s.location.search.replace("?","/");return s.push(e)}}),[i.access_token,s]),Object(l.jsx)("div",{className:"auth_page",children:Object(l.jsxs)("div",{className:"auth_box",children:[Object(l.jsx)("h3",{className:"text-uppercase text-center mb-4",children:"Login"}),Object(l.jsx)(m,{}),a?Object(l.jsx)(d,{}):Object(l.jsx)(u,{}),Object(l.jsxs)("small",{className:"row my-2 text-primary",style:{cursor:"pointer"},children:[Object(l.jsx)("span",{className:"col-6",children:Object(l.jsx)(j.b,{to:"/forgot_password",children:"Forgot password?"})}),Object(l.jsx)("span",{className:"col-6 text-end",onClick:function(){return r(!a)},children:a?"Sign in with password":"Sign in with SMS"})]}),Object(l.jsxs)("p",{children:["You don't have an account? ",Object(l.jsx)(j.b,{to:"/register".concat(s.location.search),style:{color:"crimson"},children:"Register Now"})]})]})})}},149:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(10),r=a(4),s=a(29),o=a(5),i=a(6),l=a(28),u=a(37),d=a(0),b=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e})).auth,a=Object(n.useState)({name:"",account:"",avatar:"",password:"",cf_password:""}),c=Object(i.a)(a,2),b=c[0],j=c[1],p=Object(n.useState)(!1),f=Object(i.a)(p,2),m=f[0],O=f[1],h=Object(n.useState)(!1),x=Object(i.a)(h,2),v=x[0],g=x[1],y=function(e){var t=e.target,a=t.name,n=t.value;j(Object(o.a)(Object(o.a)({},b),{},Object(s.a)({},a,n)))},w=b.name,_=(b.account,b.avatar),N=b.password,k=b.cf_password;return t.user?Object(d.jsxs)("form",{className:"profile_info",onSubmit:function(a){a.preventDefault(),(_||w)&&e(Object(u.c)(_,w,t)),N&&t.access_token&&e(Object(u.b)(N,k,t.access_token))},children:[Object(d.jsxs)("div",{className:"info_avatar",children:[Object(d.jsx)("img",{src:_?URL.createObjectURL(_):t.user.avatar,alt:"avatar"}),Object(d.jsxs)("span",{children:[Object(d.jsx)("i",{className:"fas fa-camera"}),Object(d.jsx)("p",{children:"Change Image"}),Object(d.jsx)("input",{type:"file",accept:"image/*",name:"file",id:"file_up",onChange:function(e){var t=e.target.files;if(t){var a=t[0];j(Object(o.a)(Object(o.a)({},b),{},{avatar:a}))}}})]})]}),Object(d.jsxs)("div",{className:"form-group my-3",children:[Object(d.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"name",id:"name",onChange:y,defaultValue:t.user.name})]}),Object(d.jsxs)("div",{className:"form-group my-3",children:[Object(d.jsx)("label",{htmlFor:"account",children:"Account"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"account",id:"account",defaultValue:t.user.account,disabled:!0})]}),"register"!==t.user.type&&Object(d.jsxs)("small",{className:"text-danger",children:["* Quick login account with ",t.user.type," can't use this function *"]}),Object(d.jsxs)("div",{className:"form-group my-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"}),Object(d.jsxs)("div",{className:"pass",children:[Object(d.jsx)("input",{type:m?"text":"password",className:"form-control",name:"password",id:"password",value:N,onChange:y,disabled:"register"!==t.user.type}),Object(d.jsx)("small",{onClick:function(){return O(!m)},children:m?"hide":"show"})]})]}),Object(d.jsxs)("div",{className:"form-group my-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"cf_password",children:"Confirm password"}),Object(d.jsxs)("div",{className:"pass",children:[Object(d.jsx)("input",{type:v?"text":"password",className:"form-control",name:"cf_password",id:"cf_password",value:k,onChange:y,disabled:"register"!==t.user.type}),Object(d.jsx)("small",{onClick:function(){return g(!v)},children:v?"hide":"show"})]})]}),Object(d.jsx)("button",{className:"btn btn-dark w-100",type:"submit",children:"Update"})]}):Object(d.jsx)(l.a,{})},j=a(35),p=function(e){var t=e.id,a=Object(r.b)(),c=Object(r.c)((function(e){return e})).otherInfo,s=Object(n.useState)(),o=Object(i.a)(s,2),l=o[0],b=o[1];return Object(n.useEffect)((function(){if(t)if(c.every((function(e){return e._id!==t})))a(Object(u.a)(t));else{var e=c.find((function(e){return e._id===t}));e&&b(e)}}),[t,a,c]),l?Object(d.jsxs)("div",{className:"profile_info text-center rounded",children:[Object(d.jsx)("div",{className:"info_avatar",children:Object(d.jsx)("img",{src:l.avatar,alt:""})}),Object(d.jsx)("h5",{className:"text-uppercase text-danger",children:l.role}),Object(d.jsxs)("div",{children:["Name: ",Object(d.jsx)("span",{className:"text-info",children:l.name})]}),Object(d.jsxs)("div",{children:["Email / Phone number: ",Object(d.jsx)("span",{className:"text-info",children:l.account})]}),Object(d.jsxs)("div",{children:["Join Date: ",Object(d.jsx)("span",{style:{color:"#ffc107"},children:new Date(l.createdAt).toLocaleString()})]})]}):Object(d.jsx)(j.a,{})},f=a(17),m=a(74),O=a(44),h=a(43),x=function(){var e=Object(r.b)(),t=Object(c.f)(),a=Object(r.c)((function(e){return e})).blogUser,s=Object(c.h)().slug,o=Object(n.useState)(),l=Object(i.a)(o,2),u=l[0],b=l[1],j=Object(n.useState)(0),p=Object(i.a)(j,2),x=p[0],v=p[1];Object(n.useEffect)((function(){if(s){if(!a.every((function(e){return e.id!==s}))){var n=a.find((function(e){return e.id===s}));if(!n)return;return b(n.blogs),v(n.total),n.search&&t.push(n.search),function(){b([]),v(0)}}t.location.search?e(Object(f.d)(s,t.location.search)):e(Object(f.d)(s))}}),[s,e,a]);return u?0===u.length?Object(d.jsx)("h3",{className:"text-center",children:"No Blogs"}):Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:u.length>0&&u.map((function(e){return Object(d.jsx)(O.a,{blog:e},e._id)}))}),x>1&&Object(d.jsx)(h.a,{total:x,callback:function(t){var a="?page=".concat(t);e(Object(f.d)(s,a))}})]}):Object(d.jsx)(m.a,{})};t.default=function(){var e,t=Object(c.h)().slug,a=Object(r.c)((function(e){return e})).auth;return Object(d.jsxs)("div",{className:"row my-2",children:[Object(d.jsx)("div",{className:"col-md-5 mb-3",children:(null===(e=a.user)||void 0===e?void 0:e._id)===t?Object(d.jsx)(b,{}):Object(d.jsx)(p,{id:t})}),Object(d.jsx)("div",{className:"col-md-7",children:Object(d.jsx)(x,{})})]})}},150:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(8),r=a(29),s=a(5),o=a(6),i=a(4),l=a(14),u=a(0),d=function(){var e=Object(i.b)(),t=Object(n.useState)({name:"",account:"",password:"",cf_password:""}),a=Object(o.a)(t,2),c=a[0],d=a[1],b=c.name,j=c.account,p=c.password,f=c.cf_password,m=Object(n.useState)(!1),O=Object(o.a)(m,2),h=O[0],x=O[1],v=Object(n.useState)(!1),g=Object(o.a)(v,2),y=g[0],w=g[1],_=function(e){var t=e.target,a=t.value,n=t.name;d(Object(s.a)(Object(s.a)({},c),{},Object(r.a)({},n,a)))};return Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(Object(l.h)(c))},children:[Object(u.jsxs)("div",{className:"form-group mb-2",children:[Object(u.jsx)("label",{className:"form-label",htmlFor:"name",children:"Name"}),Object(u.jsx)("input",{type:"text",className:"form-control",name:"name",id:"name",value:b,onChange:_})]}),Object(u.jsxs)("div",{className:"form-group mb-2",children:[Object(u.jsx)("label",{className:"form-label",htmlFor:"account",children:"Email/ Phone number"}),Object(u.jsx)("input",{type:"text",className:"form-control",name:"account",id:"account",value:j,onChange:_})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"}),Object(u.jsxs)("div",{className:"pass",children:[Object(u.jsx)("input",{type:h?"text":"password",className:"form-control",name:"password",id:"password",value:p,onChange:_}),Object(u.jsx)("small",{onClick:function(){return x(!h)},children:h?"hide":"show"})]})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"form-label",htmlFor:"cf_password",children:"Confirm password"}),Object(u.jsxs)("div",{className:"pass",children:[Object(u.jsx)("input",{type:y?"text":"password",className:"form-control",name:"cf_password",id:"cf_password",value:f,onChange:_}),Object(u.jsx)("small",{onClick:function(){return w(!y)},children:y?"hide":"show"})]})]}),Object(u.jsx)("button",{className:"btn btn-dark w-100 my-4",type:"submit",children:"Register"})]})},b=a(10);t.default=function(){var e=Object(b.f)();return Object(u.jsx)("div",{className:"auth_page",children:Object(u.jsxs)("div",{className:"auth_box",children:[Object(u.jsx)("h3",{className:"text-uppercase text-center mb-4 mt-2",children:"Register"}),Object(u.jsx)(d,{}),Object(u.jsxs)("p",{className:"text-center",children:["Already have an account ?",Object(u.jsx)(c.b,{to:"/login".concat(e.location.search),style:{color:"crimson"},children:" Login Now!"})]})]})})}},165:function(e,t,a){var n={"./":79,"./active/[slug]":96,"./active/[slug].tsx":96,"./blog/[slug]":147,"./blog/[slug].tsx":147,"./blogs/[slug]":127,"./blogs/[slug].tsx":127,"./category":128,"./category.tsx":128,"./create_blog":72,"./create_blog.tsx":72,"./forgot_password":129,"./forgot_password.tsx":129,"./index":79,"./index.tsx":79,"./login":148,"./login.tsx":148,"./profile/[slug]":149,"./profile/[slug].tsx":149,"./register":150,"./register.tsx":150,"./reset_password/[slug]":130,"./reset_password/[slug].tsx":130,"./update_blog/[slug]":131,"./update_blog/[slug].tsx":131};function c(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=r,e.exports=c,c.id=165},17:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"e",(function(){return j})),a.d(t,"c",(function(){return p})),a.d(t,"d",(function(){return f})),a.d(t,"f",(function(){return m})),a.d(t,"b",(function(){return O}));var n=a(2),c=a.n(n),r=a(5),s=a(7),o=a(3),i=a(33),l=a(9),u=a(18),d=a(12),b=function(e,t){return function(){var a=Object(s.a)(c.a.mark((function a(n){var s,b,j,p,f,m;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(d.a)(t,n);case 2:if(s=a.sent,b=s||t,a.prev=4,n({type:o.a,payload:{loading:!0}}),j="","string"===typeof e.thumbnail){a.next=14;break}return a.next=10,Object(i.b)(e.thumbnail);case 10:p=a.sent,j=p.url,a.next=15;break;case 14:j=e.thumbnail;case 15:return f=Object(r.a)(Object(r.a)({},e),{},{thumbnail:j}),a.next=18,Object(l.d)("blog",f,b);case 18:m=a.sent,n({type:u.a,payload:m.data}),n({type:o.a,payload:{loading:!1}}),a.next=26;break;case 23:a.prev=23,a.t0=a.catch(4),n({type:o.a,payload:{errors:a.t0.message}});case 26:case"end":return a.stop()}}),a,null,[[4,23]])})));return function(e){return a.apply(this,arguments)}}()},j=function(){return function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:o.a,payload:{loading:!0}}),e.next=4,Object(l.b)("home/blogs");case 4:a=e.sent,t({type:u.e,payload:a.data}),t({type:o.a,payload:{loading:!1}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:o.a,payload:{errors:e.t0.message}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e,t){return function(){var a=Object(s.a)(c.a.mark((function a(n){var s,i;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,8,s=t||"?page=".concat(1),n({type:o.a,payload:{loading:!0}}),a.next=6,Object(l.b)("blogs/category/".concat(e).concat(s,"&limit=").concat(8));case 6:i=a.sent,console.log(i),n({type:u.d,payload:Object(r.a)(Object(r.a)({},i.data),{},{id:e,search:t})}),n({type:o.a,payload:{loading:!1}}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),n({type:o.a,payload:{errors:a.t0.message}});case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()},f=function(e,t){return function(){var a=Object(s.a)(c.a.mark((function a(n){var s,i;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,3,s=t||"?page=".concat(1),n({type:o.a,payload:{loading:!0}}),a.next=6,Object(l.b)("blogs/user/".concat(e).concat(s,"&limit=").concat(3));case 6:i=a.sent,n({type:u.c,payload:Object(r.a)(Object(r.a)({},i.data),{},{id:e,search:t})}),n({type:o.a,payload:{loading:!1}}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:o.a,payload:{errors:a.t0.message}});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},m=function(e,t){return function(){var a=Object(s.a)(c.a.mark((function a(n){var s,u,b,j,p,f;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(d.a)(t,n);case 2:if(s=a.sent,u=s||t,a.prev=4,n({type:o.a,payload:{loading:!0}}),b="","string"===typeof e.thumbnail){a.next=14;break}return a.next=10,Object(i.b)(e.thumbnail);case 10:j=a.sent,b=j.url,a.next=15;break;case 14:b=e.thumbnail;case 15:return p=Object(r.a)(Object(r.a)({},e),{},{thumbnail:b}),a.next=18,Object(l.e)("blog/".concat(p._id),p,u);case 18:f=a.sent,n({type:o.a,payload:{success:f.data.msg}}),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(4),n({type:o.a,payload:{errors:a.t0.message}});case 25:case"end":return a.stop()}}),a,null,[[4,22]])})));return function(e){return a.apply(this,arguments)}}()},O=function(e,t){return function(){var a=Object(s.a)(c.a.mark((function a(n){var r,s;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(d.a)(t,n);case 2:return r=a.sent,s=r||t,a.prev=4,n({type:o.a,payload:{loading:!0}}),a.next=8,Object(l.a)("blog/".concat(e._id),s);case 8:n({type:u.b,payload:e}),n({type:o.a,payload:{}}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(4),n({type:o.a,payload:{errors:a.t0.message}});case 15:case"end":return a.stop()}}),a,null,[[4,12]])})));return function(e){return a.apply(this,arguments)}}()}},18:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o}));var n="GET_HOME_BLOG",c="GET_BLOG_BY_CATEGORY_ID",r="GET_BLOGS_USER_ID",s="CREATE_BLOG_USER_ID",o="DELETE_BLOG_USER_ID"},22:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n="AUTH"},28:function(e,t,a){"use strict";a(1);var n=a(0);t.a=function(){return Object(n.jsx)("div",{className:"position-relative",style:{minHeight:"calc(100vh - 70px)"},children:Object(n.jsx)("h2",{className:"position-absolute text-secondary",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:"404 | NotFound"})})}},3:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n="ALERT"},30:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return s}));var n="CREATE_CATEGORY",c="GET_CATEGORY",r="UPDATE_CATEGORY",s="DELETE_CATEGORY"},314:function(e,t,a){},315:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(56),s=a.n(r),o=a(4),i=a(8),l=a(10),u=a(28),d=a(0),b=function(){var e=Object(l.h)(),t=e.page,n=e.slug,r="";return t&&(r=n?"".concat(t,"/[slug]"):"".concat(t)),function(e){try{return c.a.createElement(a(165)("./".concat(e)).default)}catch(t){return Object(d.jsx)(u.a,{})}}(r)},j=a(2),p=a.n(j),f=a(7),m=a(6),O=a(9),h=a(44),x=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(m.a)(r,2),o=s[0],i=s[1];return Object(n.useEffect)((function(){var e=setTimeout(Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length<2)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(O.b)("/search/blogs?title=".concat(a));case 5:(t=e.sent).data.length>0&&i(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),400);return function(){clearTimeout(e),i([])}}),[a]),Object(d.jsxs)("div",{className:"search w-100 position-relative me-4",children:[Object(d.jsx)("input",{type:"text",className:"form-control me-2 w-100 my-2",value:a,placeholder:"Enter your search...",onChange:function(e){return c(e.target.value)}}),a.length>=2&&Object(d.jsx)("div",{className:"position-absolute ".concat(window.innerWidth>1024?"px-4 py-2":"px-2"," w-100 rounded"),style:{backgroundColor:"#f5f5f5",zIndex:100,borderRadius:"0 0 10px 10px",maxHeight:"calc(100vh - 100px",overflow:"auto"},children:o&&o.length>0?o.map((function(e){return Object(d.jsx)(h.a,{blog:e},e._id)})):Object(d.jsx)("h3",{className:"w-100 text-center p-4",children:"No blog"})})]})},v=a(14),g=function(){var e,t=Object(o.b)(),a=Object(o.c)((function(e){return e})).auth,n=a.access_token?[{label:"Home",path:"/"},{label:"CreateBlog",path:"/create_blog"}]:[{label:"Login",path:"/login"},{label:"Register",path:"/register"}],c=Object(l.g)().pathname,r=function(e){if(c===e)return"active"};return Object(d.jsxs)("ul",{className:"navbar-nav ms-auto",children:[n.map((function(e,t){return Object(d.jsx)("li",{className:"nav-item ".concat(r(e.path)),children:Object(d.jsx)(i.b,{className:"nav-link",to:e.path,children:e.label})},t)})),"admin"===(null===(e=a.user)||void 0===e?void 0:e.role)&&Object(d.jsx)("li",{className:"nav-item ".concat(r("/category")),children:Object(d.jsx)(i.b,{className:"nav-link",to:"/category",children:"Category"})}),a.user&&Object(d.jsxs)("li",{className:"nav-item dropdown",children:[Object(d.jsx)("span",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(d.jsx)("img",{src:a.user.avatar,alt:"avatar",title:a.user.name,className:"avatar"})}),Object(d.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{className:"dropdown-item",to:"/profile/".concat(a.user._id),children:"Profile"})}),Object(d.jsx)("li",{children:Object(d.jsx)("hr",{className:"dropdown-divider"})}),Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{onClick:function(){a.access_token&&a.user&&t(Object(v.f)(a.access_token))},className:"dropdown-item",to:"#",children:"Logout"})})]})]})]})},y=function(){return Object(d.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light p-3",style:{position:"sticky",top:0,left:0,zIndex:98},children:Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsx)(i.b,{className:"navbar-brand",to:"/",children:"BlogInter"}),Object(d.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(d.jsx)("span",{className:"navbar-toggler-icon"})}),Object(d.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[Object(d.jsx)(x,{}),Object(d.jsx)(g,{})]})]})})},w=function(){return Object(d.jsxs)("div",{className:"text-center bg-light py-4",children:[Object(d.jsx)("h6",{children:"Welcome to NozeBlog"}),Object(d.jsx)("a",{href:"https://www.facebook.com/pqv69",target:"_blank",rel:"noreferrer",className:"mb-2 d-block text-info",children:"https://www.facebook.com/pqv69"}),Object(d.jsx)("p",{children:" Copyright \xa9 2021"})]})},_=a(38),N=a(95),k=a(46),C=a(17),S=a(154),E=a.n(S),T=a(13),L=function(){var e=Object(o.c)((function(e){return e})).socket,t=Object(o.b)();return Object(n.useEffect)((function(){if(e)return e.on("createComment",(function(e){t({type:T.a,payload:e})})),function(){e.off("")}}),[e,t]),Object(n.useEffect)((function(){if(e)return e.on("replyComment",(function(e){t({type:T.e,payload:e})})),function(){e.off("")}}),[e,t]),Object(n.useEffect)((function(){if(e)return e.on("updateComment",(function(e){t({type:e.comment_root?T.g:T.f,payload:e})})),function(){e.off("")}}),[e,t]),Object(n.useEffect)((function(){if(e)return e.on("deleteComment",(function(e){t({type:e.comment_root?T.c:T.b,payload:e})})),function(){e.off("")}}),[e,t]),Object(d.jsx)("div",{})},D=function(){N.a.load("client:auth2",(function(){N.a.client.init({clientId:"*****.apps.googleusercontent.com",plugin_name:"chat"})}));var e=Object(o.b)();return Object(n.useEffect)((function(){e(Object(C.e)()),e(Object(k.c)()),e(Object(v.g)())}),[e]),Object(n.useEffect)((function(){var t=E()();return e({type:"SOCKET",payload:t}),function(){t.close()}}),[]),Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(L,{}),Object(d.jsxs)(i.a,{children:[Object(d.jsx)(y,{}),Object(d.jsx)(_.a,{}),Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{exact:!0,path:"/",component:b}),Object(d.jsx)(l.a,{exact:!0,path:"/:page",component:b}),Object(d.jsx)(l.a,{exact:!0,path:"/:page/:slug",component:b})]}),Object(d.jsx)(w,{})]})]})},M=(a(314),a(45)),R=a(155),A=a(22),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.a:return t.payload;default:return e}},P=a(3),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.a:return t.payload;default:return e}},z=a(5),B=a(15),U=a(30),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.a:return[t.payload].concat(Object(B.a)(e));case U.c:return t.payload;case U.d:return e.map((function(e){return e._id===t.payload._id?Object(z.a)(Object(z.a)({},e),{},{name:t.payload.name}):e}));case U.b:return e.filter((function(e){return e._id!==t.payload}));default:return e}},H=a(18),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.e:return t.payload;default:return e}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.d:return e.every((function(e){return e.id!==t.payload.id}))?[].concat(Object(B.a)(e),[t.payload]):e.map((function(e){return e.id===t.payload.id?t.payload:e}));default:return e}},q=a(77),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.a:return e.every((function(e){return e._id!==t.payload._id}))?[].concat(Object(B.a)(e),[t.payload]):e.find((function(e){return e._id===t.payload._id}))?e:[].concat(Object(B.a)(e),[t.payload]);default:return e}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.c:return e.every((function(e){return e.id!==t.payload.id}))?[].concat(Object(B.a)(e),[t.payload]):e.map((function(e){return e.id===t.payload.id?t.payload:e}));case H.a:return e.map((function(e){return e.id===t.payload.user._id?Object(z.a)(Object(z.a)({},e),{},{blogs:[t.payload].concat(Object(B.a)(e.blogs))}):e}));case H.b:return e.map((function(e){return e.id===t.payload.user._id?Object(z.a)(Object(z.a)({},e),{},{blogs:e.blogs.filter((function(e){return e._id!==t.payload._id}))}):e}));default:return e}},V={data:[],total:1},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.a:return Object(z.a)(Object(z.a)({},e),{},{data:[t.payload].concat(Object(B.a)(e.data))});case T.d:return t.payload;case T.e:return Object(z.a)(Object(z.a)({},e),{},{data:e.data.map((function(e){return e._id===t.payload.comment_root?Object(z.a)(Object(z.a)({},e),{},{replyCM:[].concat(Object(B.a)(e.replyCM),[t.payload])}):e}))});case T.f:return Object(z.a)(Object(z.a)({},e),{},{data:e.data.map((function(e){return e._id===t.payload._id?t.payload:e}))});case T.g:return Object(z.a)(Object(z.a)({},e),{},{data:e.data.map((function(e){var a;return e._id===t.payload.comment_root?Object(z.a)(Object(z.a)({},e),{},{replyCM:null===(a=e.replyCM)||void 0===a?void 0:a.map((function(e){return e._id===t.payload._id?t.payload:e}))}):e}))});case T.b:return Object(z.a)(Object(z.a)({},e),{},{data:e.data.filter((function(e){return e._id!==t.payload._id}))});case T.c:return Object(z.a)(Object(z.a)({},e),{},{data:e.data.map((function(e){var a;return e._id===t.payload.comment_root?Object(z.a)(Object(z.a)({},e),{},{replyCM:null===(a=e.replyCM)||void 0===a?void 0:a.filter((function(e){return e._id!==t.payload._id}))}):e}))});default:return e}},$="SOCKET",X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return t.payload;default:return e}},Z=Object(M.combineReducers)({auth:I,alert:F,category:G,homeBLogs:W,blogCategory:Y,otherInfo:J,blogUser:K,comments:Q,socket:X}),ee=a(156),te=Object(M.createStore)(Z,Object(ee.composeWithDevTools)(Object(M.applyMiddleware)(R.a)));s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(o.a,{store:te,children:Object(d.jsx)(D,{})})}),document.getElementById("root"))},33:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o}));var n=a(2),c=a.n(n),r=a(7),s=function(e){var t="";return e||(t="file does not exist!"),e.size>1048576&&(t="The largest file size is 1MB"),["image/png","image/jpeg"].includes(e.type)||(t="The image type is png / jpeg"),t},o=function(){var e=Object(r.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),a.append("upload_preset","wi5uwxua"),a.append("cloud_name","noze-blog"),e.next=6,fetch("https://api.cloudinary.com/v1_1/noze-blog/upload",{method:"POST",body:a});case 6:return n=e.sent,e.next=9,n.json();case 9:return r=e.sent,e.abrupt("return",{public_id:r.public_id,url:r.url});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},35:function(e,t,a){"use strict";a(1);var n=a(0);t.a=function(){return Object(n.jsx)("div",{className:"position-fixed w-100 h-100 text-center loading",style:{background:"#0007",color:"white",top:0,left:0,zIndex:99},children:Object(n.jsxs)("svg",{width:"205",height:"250",viewBox:"0 0 40 50",children:[Object(n.jsx)("polygon",{stroke:"#fff",strokeWidth:"1",fill:"none",points:"20,1 40,40 1,40"}),Object(n.jsx)("text",{fill:"#fff",x:"5",y:"47",children:"Loading"})]})})}},36:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return s})),a.d(t,"c",(function(){return o}));var n=function(e){var t=e.name,a=e.account,n=e.password,c=e.cf_password,s=[];return t?t.length>20&&s.push("Name must be less than 20 characters!"):s.push("Please add your name!"),a?/^((?!\.)[\w\-_.]*[^.])(@\w+)(\.\w+(\.\w+)?[^.\W])$/.test(a)||r(a)||s.push("Email or phone number format is incorrect!"):s.push("Please add your account!"),n.length<6?s.push("Password must be at least 6 characters!"):n!==c&&s.push("Password and confirm password must be the same!"),{errMsg:s,errLength:s.length}},c=function(e,t){var a="";return e.length<6?a="Password must be at least 6 characters!":e!==t&&(a="Password and confirm password must be the same!"),a};function r(e){return/^[+]/g.test(e)}var s=function(e){var t=e.title,a=e.content,n=e.description,c=e.thumbnail,r=e.category,s=[];return t.trim().length<10?s.push("Title has at least 10 characters."):t.trim().length>50&&s.push("Title is up to 50 character long."),a.trim().length<2e3&&s.push("Content has at least 2000 characters."),n.trim().length<50?s.push("Description has at least 50 characters."):n.trim().length>200&&s.push("Description is up to 200 character long."),c||s.push("Thumbnail cannot be left blank."),r||s.push("Category cannot be left blank."),{errMsg:s,errLength:s.length}},o=function(e,t){return JSON.stringify(e)===JSON.stringify(t)}},37:function(e,t,a){"use strict";a.d(t,"c",(function(){return p})),a.d(t,"b",(function(){return f})),a.d(t,"a",(function(){return m}));var n=a(2),c=a.n(n),r=a(5),s=a(7),o=a(3),i=a(22),l=a(33),u=a(9),d=a(36),b=a(77),j=a(12),p=function(e,t,a){return function(){var n=Object(s.a)(c.a.mark((function n(s){var d,b,p,f,m;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.access_token&&a.user){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,Object(j.a)(a.access_token,s);case 4:if(d=n.sent,b=d||a.access_token,p="",n.prev=7,s({type:o.a,payload:{loading:!0}}),!e){n.next=17;break}if(!(f=Object(l.a)(e))){n.next=13;break}return n.abrupt("return",s({type:o.a,payload:{errors:f}}));case 13:return n.next=15,Object(l.b)(e);case 15:m=n.sent,p=m.url;case 17:return n.next=19,Object(u.c)("user",{name:t||a.user.name,avatar:p||a.user.avatar},b);case 19:s({type:i.a,payload:{access_token:b,user:Object(r.a)(Object(r.a)({},a.user),{},{name:t||a.user.name,avatar:p||a.user.avatar})}}),s({type:o.a,payload:{loading:!1}}),n.next=26;break;case 23:n.prev=23,n.t0=n.catch(7),s({type:o.a,payload:{errors:n.t0.response.data.msg}});case 26:case"end":return n.stop()}}),n,null,[[7,23]])})));return function(e){return n.apply(this,arguments)}}()},f=function(e,t,a){return function(){var n=Object(s.a)(c.a.mark((function n(r){var s,i,l,b;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(j.a)(a,r);case 2:if(s=n.sent,i=s||a,n.prev=4,r({type:o.a,payload:{loading:!0}}),!(l=Object(d.b)(e,t))){n.next=9;break}return n.abrupt("return",r({type:o.a,payload:{errors:l}}));case 9:return n.next=11,Object(u.c)("reset_password",{password:e},i);case 11:b=n.sent,r({type:o.a,payload:{success:b.data.msg}}),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(4),r({type:o.a,payload:{errors:n.t0.response.data.msg}});case 18:case"end":return n.stop()}}),n,null,[[4,15]])})));return function(e){return n.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:o.a,payload:{loading:!0}}),t.next=4,Object(u.b)("user/".concat(e));case 4:n=t.sent,a({type:b.a,payload:n.data}),a({type:o.a,payload:{loading:!1}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:o.a,payload:{errors:t.t0.message}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},38:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return u}));a(1);var n=a(35),c=a(4),r=a(3),s=a(0),o=function(e){var t=e.title,a=e.body,n=e.bgColor,o=Object(c.b)();return Object(s.jsxs)("div",{className:"toast show position-fixed text-light ".concat(n),style:{top:"5px",right:"5px",zIndex:99,minWidth:"200px"},children:[Object(s.jsxs)("div",{className:"toast-header",children:[Object(s.jsx)("strong",{className:"me-auto",children:t}),Object(s.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"toast","aria-label":"Close",onClick:function(){o({type:r.a,payload:{}})}})]}),Object(s.jsx)("div",{className:"toast-body",children:"string"===typeof a?a:Object(s.jsx)("ul",{children:a.map((function(e,t){return Object(s.jsx)("li",{children:e},t)}))})})]})},i=function(){var e=Object(c.c)((function(e){return e})).alert;return Object(s.jsxs)("div",{children:[e.loading&&Object(s.jsx)(n.a,{}),e.errors&&Object(s.jsx)(o,{title:"Error",body:e.errors,bgColor:"bg-danger"}),e.success&&Object(s.jsx)(o,{title:"Success",body:e.success,bgColor:"bg-success"})]})},l=function(e){return Object(s.jsx)("div",{className:"errMsg",children:e})},u=function(e){return Object(s.jsx)("div",{className:"successMsg",children:e})}},43:function(e,t,a){"use strict";var n=a(15),c=a(6),r=a(1),s=a(10),o=a(0);t.a=function(e){var t=e.total,a=e.callback,i=Object(r.useState)(1),l=Object(c.a)(i,2),u=l[0],d=l[1],b=Object(s.f)(),j=Object(n.a)(Array(t)).map((function(e,t){return t+1})),p=function(e){b.push("?page=".concat(e)),d(e),a(e)};return Object(r.useEffect)((function(){var e=b.location.search.slice(6)||1;d(Number(e))}),[b.location.search]),Object(o.jsx)("nav",{"aria-label":"Page navigation example",children:Object(o.jsxs)("ul",{className:"pagination",children:[u>1&&Object(o.jsx)("li",{className:"page-item",onClick:function(){return p(u-1)},style:{cursor:"pointer"},children:Object(o.jsx)("span",{className:"page-link","aria-label":"Previous",children:Object(o.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),j&&j.length>0&&j.map((function(e){return Object(o.jsx)("li",{className:"page-item ".concat((t=e,t===u?"active":"")),style:{cursor:"pointer"},onClick:function(){return p(e)},children:Object(o.jsx)("span",{className:"page-link",children:e})});var t})),u<t&&Object(o.jsx)("li",{className:"page-item",onClick:function(){return p(u+1)},style:{cursor:"pointer"},children:Object(o.jsx)("span",{className:"page-link","aria-label":"Next",children:Object(o.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})})}},44:function(e,t,a){"use strict";a(1);var n=a(8),c=a(10),r=a(4),s=a(17),o=a(0);t.a=function(e){var t,a,i=e.blog,l=Object(c.h)().slug,u=Object(r.c)((function(e){return e})).auth;console.log(l);var d=Object(r.b)(),b=function(e){u.user&&u.access_token&&window.confirm("Do you want to delete this post?")&&d(Object(s.b)(e,u.access_token))};return Object(o.jsx)("div",{className:"card mb-3 rounded w-100",children:Object(o.jsxs)("div",{className:"row g-0 p-2",children:[Object(o.jsx)("div",{className:"col-md-4",style:{minHeight:"150px",maxHeight:"170px",overflow:"hidden"},children:i.thumbnail&&Object(o.jsx)(o.Fragment,{children:"string"===typeof i.thumbnail?Object(o.jsx)(n.b,{to:"/blog/".concat(i._id),children:Object(o.jsx)("img",{src:i.thumbnail,className:"img-fluid rounded-start",alt:"thumb",style:{width:"100%",objectFit:"cover"}})}):Object(o.jsx)("img",{src:URL.createObjectURL(i.thumbnail),className:"img-fluid rounded-start",alt:"thumbnail"})})}),Object(o.jsx)("div",{className:"col-md-8",children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("h5",{className:"card-title",children:Object(o.jsx)(n.b,{to:"/blog/".concat(i._id),className:"text-capitalize text-decoration-none",children:i.title})}),Object(o.jsx)("p",{className:"card-text",children:i.description}),i.title&&Object(o.jsxs)("p",{className:"card-text d-flex justify-content-between",children:[u.user&&l&&(null===(t=u.user)||void 0===t?void 0:t._id)===i.user._id?Object(o.jsxs)("small",{children:[Object(o.jsx)(n.b,{to:"/update_blog/".concat(i._id),children:Object(o.jsx)("i",{className:"fas fa-edit",title:"edit blog"})}),Object(o.jsx)("i",{className:"fas fa-trash-alt",style:{marginLeft:"10px",color:"crimson",cursor:"pointer"},title:"delete blog",onClick:function(){return b(i)}})]}):"admin"===(null===(a=u.user)||void 0===a?void 0:a.role)&&Object(o.jsx)("i",{className:"fas fa-trash-alt",style:{marginLeft:"10px",color:"crimson",cursor:"pointer"},title:"delete blog",onClick:function(){return b(i)}}),Object(o.jsx)("small",{className:"text-muted d-flex",style:{justifyContent:"flex-end"},children:new Date(i.createdAt).toLocaleString()})]})]})})]})})}},46:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return b})),a.d(t,"b",(function(){return j}));var n=a(2),c=a.n(n),r=a(7),s=a(3),o=a(9),i=a(30),l=a(12),u=function(e,t){return function(){var a=Object(r.a)(c.a.mark((function a(n){var r,u,d;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(l.a)(t,n);case 2:return r=a.sent,u=r||t,a.prev=4,n({type:s.a,payload:{loading:!0}}),a.next=8,Object(o.d)("category",{name:e},u);case 8:d=a.sent,n({type:i.a,payload:d.data.newCategory}),n({type:s.a,payload:{loading:!1}}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(4),n({type:s.a,payload:{errors:a.t0.response.data.msg}});case 16:case"end":return a.stop()}}),a,null,[[4,13]])})));return function(e){return a.apply(this,arguments)}}()},d=function(){return function(){var e=Object(r.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:s.a,payload:{loading:!0}}),e.next=4,Object(o.b)("category");case 4:a=e.sent,t({type:i.c,payload:a.data.categories}),t({type:s.a,payload:{loading:!1}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:s.a,payload:{errors:e.t0.message}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},b=function(e,t){return function(){var a=Object(r.a)(c.a.mark((function a(n){var r,u;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(l.a)(t,n);case 2:return r=a.sent,u=r||t,a.prev=4,n({type:i.d,payload:e}),a.next=8,Object(o.c)("category/".concat(e._id),{name:e.name},u);case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(4),n({type:s.a,payload:{errors:a.t0.response.data.msg}});case 13:case"end":return a.stop()}}),a,null,[[4,10]])})));return function(e){return a.apply(this,arguments)}}()},j=function(e,t){return function(){var a=Object(r.a)(c.a.mark((function a(n){var r,u,d;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(l.a)(t,n);case 2:return r=a.sent,u=r||t,a.prev=4,a.next=7,Object(o.a)("category/".concat(e),u);case 7:1===(d=a.sent).data.errCode&&n({type:s.a,payload:{success:d.data.msg}}),n({type:i.b,payload:e}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(4),n({type:s.a,payload:{errors:a.t0.response.data.msg}});case 15:case"end":return a.stop()}}),a,null,[[4,12]])})));return function(e){return a.apply(this,arguments)}}()}},72:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(5),s=a(7),o=a(6),i=a(1),l=a(4),u=a(29),d=a(0),b=function(e){var t=e.blog,a=e.setBlog,n=Object(l.c)((function(e){return e})).category;console.log(window.innerWidth);var c=function(e){var n=e.target,c=n.name,s=n.value;a(Object(r.a)(Object(r.a)({},t),{},Object(u.a)({},c,s)))};return Object(d.jsxs)("form",{children:[Object(d.jsxs)("div",{className:"form-group position-relative my-3",children:[Object(d.jsx)("input",{type:"text",className:"form-control",value:t.title,name:"title",onChange:c}),window.innerWidth>415&&Object(d.jsxs)("small",{className:"text-muted position-absolute",style:{top:"50%",right:"10px",transform:"translateY(-50%)"},children:[t.title.length,"/50"]})]}),Object(d.jsx)("div",{className:"form-group my-3",children:Object(d.jsx)("input",{type:"file",className:"form-control",accept:"image/*",onChange:function(e){var n=e.target.files;n&&a(Object(r.a)(Object(r.a)({},t),{},{thumbnail:n[0]}))}})}),Object(d.jsxs)("div",{className:"form-group position-relative my-3",children:[Object(d.jsx)("textarea",{className:"form-control",rows:4,style:{resize:"none"},name:"description",value:t.description,onChange:c}),window.innerWidth>415&&Object(d.jsxs)("small",{className:"text-muted position-absolute",style:{bottom:0,right:"5px"},children:[t.description.length,"/200"]})]}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsxs)("select",{className:"form-control text-capitalize",name:"category",value:t.category,onChange:c,children:[Object(d.jsx)("option",{value:"",children:"Choose a category"}),n&&n.length>0&&n.map((function(e){return Object(d.jsx)("option",{value:e._id,children:e.name},e._id)}))]})})]})},j=a(44),p=a(28),f=a(76),m=a.n(f),O=(a(126),a(33)),h=a(3),x=[[{font:[]}],[{header:[1,2,3,4,5,6,!1]}],[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}],["clean","link","image","video"]],v=function(e){var t=e.body,a=e.setBody,n={toolbar:{container:x}},r=Object(i.useRef)(null),o=Object(l.b)(),u=Object(i.useCallback)((function(){var e=document.createElement("input");e.type="file",e.accept="image/*",e.click(),e.onchange=Object(s.a)(c.a.mark((function t(){var a,n,s,i,l,u,d;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.files){t.next=3;break}return t.abrupt("return",o({type:h.a,payload:{errors:"File does not exist."}}));case 3:if(s=n[0],!(i=Object(O.a)(s))){t.next=7;break}return t.abrupt("return",o({type:h.a,payload:{errors:i}}));case 7:return o({type:h.a,payload:{loading:!0}}),t.next=10,Object(O.b)(s);case 10:l=t.sent,u=r.current,void 0!==(d=null===u||void 0===u||null===(a=u.getEditor().getSelection())||void 0===a?void 0:a.index)&&(null===u||void 0===u||u.getEditor().insertEmbed(d,"image","".concat(l.url))),o({type:h.a,payload:{loading:!1}});case 15:case"end":return t.stop()}}),t)})))}),[o]);return Object(i.useEffect)((function(){var e=r.current;e&&e.getEditor().getModule("toolbar").addHandler("image",u)}),[u]),Object(d.jsx)("div",{children:Object(d.jsx)(m.a,{theme:"snow",modules:n,placeholder:"Write somethings....",onChange:function(e){a(e)},value:t,ref:r})})},g=a(36),y=a(17),w=a(9);t.default=function(e){var t=e.id,a={user:"",title:"",content:"",description:"",thumbnail:"",category:"",createdAt:(new Date).toISOString()},n=Object(i.useState)(a),u=Object(o.a)(n,2),f=u[0],m=u[1],O=Object(i.useState)(""),x=Object(o.a)(O,2),_=x[0],N=x[1],k=Object(i.useState)(""),C=Object(o.a)(k,2),S=C[0],E=C[1],T=Object(l.c)((function(e){return e})).auth,L=Object(l.b)(),D=Object(i.useRef)(null),M=Object(i.useState)(a),R=Object(o.a)(M,2),A=R[0],I=R[1];Object(i.useEffect)((function(){if(t)return Object(w.b)("blog/".concat(t)).then((function(e){m(e.data),N(e.data.content),I(e.data)})).catch((function(e){console.log(e)})),function(){m(a),N(""),I(a)}}),[t,L]),Object(i.useEffect)((function(){var e=D.current;if(console.log(e),e){var t=null===e||void 0===e?void 0:e.innerText;E(t)}}),[_]);var P=function(){var e=Object(s.a)(c.a.mark((function e(){var a,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T.access_token){e.next=2;break}return e.abrupt("return");case 2:if(0===(a=Object(g.d)(Object(r.a)(Object(r.a)({},f),{},{content:S}))).errLength){e.next=5;break}return e.abrupt("return",L({type:h.a,payload:{errors:a.errMsg}}));case 5:if(n=Object(r.a)(Object(r.a)({},f),{},{content:_}),!t){e.next=17;break}if(Object(g.c)(A,n)){e.next=14;break}if((null===(s=T.user)||void 0===s?void 0:s._id)===f.user._id){e.next=11;break}return e.abrupt("return",L({type:h.a,payload:{errors:"Invalid Authentication!"}}));case 11:L(Object(y.f)(n,T.access_token)),e.next=15;break;case 14:L({type:h.a,payload:{errors:"The data does not change."}});case 15:e.next=18;break;case 17:L(Object(y.a)(n,T.access_token));case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return T.access_token?Object(d.jsxs)("div",{className:"my-4 create_blog",children:[Object(d.jsx)("h2",{children:"Create Blog"}),Object(d.jsxs)("div",{className:"row mt-4",children:[Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("h5",{children:"Create"}),Object(d.jsx)(b,{blog:f,setBlog:m})]}),Object(d.jsxs)("div",{className:"col-md-6",children:[Object(d.jsx)("h5",{className:"mt-3 mb-2",children:"Preview"}),Object(d.jsx)(j.a,{blog:f})]})]}),Object(d.jsxs)("div",{className:"mt-5",children:[Object(d.jsx)(v,{body:_,setBody:N}),Object(d.jsx)("small",{children:S.length}),Object(d.jsx)("div",{ref:D,dangerouslySetInnerHTML:{__html:_},style:{display:"none"}})]}),Object(d.jsx)("button",{className:"btn btn-dark mt-3 d-block mx-auto",onClick:P,children:t?"Update Post":"Create Post"})]}):Object(d.jsx)(p.a,{})}},73:function(e,t,a){"use strict";a(1);var n=a(8),c=a(0);t.a=function(e){var t=e.blog;return Object(c.jsxs)("div",{className:"card",children:["string"===typeof t.thumbnail&&Object(c.jsx)("img",{src:t.thumbnail,className:"card-img-top",alt:"...",style:{height:"180px",objectFit:"cover"}}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h5",{className:"card-title",children:Object(c.jsx)(n.b,{to:"/blog/".concat(t._id),children:t.title.slice(0,40)+"..."})}),Object(c.jsx)("p",{className:"card-text",children:t.description.slice(0,100)+"..."}),Object(c.jsxs)("p",{className:"card-text d-flex justify-content-between",children:[Object(c.jsx)("small",{"text-muted":!0,"text-capitalize":!0,children:"string"!==typeof t.user&&Object(c.jsxs)(n.b,{to:"/profile/".concat(t.user._id),children:["By: ",t.user.name]})}),Object(c.jsx)("small",{"text-muted":!0,children:new Date(t.createdAt).toLocaleString()})]})]})]})}},74:function(e,t,a){"use strict";a(1);var n=a(0);t.a=function(){return Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsx)("div",{className:"spinner-border",role:"status",children:Object(n.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}},77:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n="GET_OTHER_INFO"},79:function(e,t,a){"use strict";a.r(t);a(1);var n=a(8),c=a(4),r=a(73),s=a(74),o=a(0);t.default=function(){var e=Object(c.c)((function(e){return e})).homeBLogs;return 0==e.length?Object(o.jsx)(s.a,{}):Object(o.jsx)("div",{className:"home_page",children:e&&e.length>0&&e.map((function(e){return Object(o.jsxs)("div",{children:[e.count>0&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h3",{children:Object(o.jsx)(n.b,{to:"/blogs/".concat(e.name),children:e.name})}),Object(o.jsx)("hr",{className:"mt-1"}),Object(o.jsx)("div",{className:"home_blogs",children:e.blogs.map((function(e){return Object(o.jsx)(r.a,{blog:e},e._id)}))})]}),e.count>4&&Object(o.jsx)(n.b,{className:"text-end d-block mt-2 mb-3",to:"/blogs/".concat(e.name),children:"Read more >>"})]},e._id)}))})}},9:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"e",(function(){return b})),a.d(t,"a",(function(){return j}));var n=a(2),c=a.n(n),r=a(7),s=a(47),o=a.n(s),i="https://blog-dev-winter.herokuapp.com/",l=function(){var e=Object(r.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("".concat(i,"/api/").concat(t),a,{headers:{Authorization:n}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),u=function(){var e=Object(r.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("".concat(i,"/api/").concat(t),{headers:{Authorization:a}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),d=function(){var e=Object(r.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.patch("".concat(i,"/api/").concat(t),a,{headers:{Authorization:n}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(r.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.put("".concat(i,"/api/").concat(t),a,{headers:{Authorization:n}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(r.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("".concat(i,"/api/").concat(t),{headers:{Authorization:a}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},96:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(1),r=a(10),s=a(9),o=a(38),i=a(0);t.default=function(){var e=Object(r.h)().slug,t=Object(c.useState)(""),a=Object(n.a)(t,2),l=a[0],u=a[1],d=Object(c.useState)(""),b=Object(n.a)(d,2),j=b[0],p=b[1];return Object(c.useEffect)((function(){e&&Object(s.d)("active",{active_token:e}).then((function(e){return p(e.data.msg)})).catch((function(e){return u(e.response.data.msg)}))}),[e]),Object(i.jsxs)("div",{children:[l&&Object(o.b)(l),j&&Object(o.c)(j)]})}}},[[315,1,2]]]);
//# sourceMappingURL=main.725fc2c0.chunk.js.map